(this["webpackJsonprouter-practice"]=this["webpackJsonprouter-practice"]||[]).push([[0],{24:function(e,t,a){e.exports=a(37)},30:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),l=(a(29),a(30),a(1)),i=a.n(l),o=a(7),u=a(8),m=a(10),p=a(9),d=a(11),h=a(6),b=a(12),f=function(){return r.a.createElement("header",{className:"jumbotron text-center mb-0"},r.a.createElement("h1",{className:"display-4"},r.a.createElement(h.b,{to:"/"},"\u2018Tis the Seasoning")),r.a.createElement("p",{className:"container my-4"},"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Mollitia voluptatum quidem harum."))},E=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark sticky-top mb-4"},r.a.createElement("div",{className:"container collapse navbar-collapse"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.b,{to:"/recipes",className:"nav-link"},"Recipes")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.b,{to:"/about",className:"nav-link"},"About")))))},v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"text-center mb-4"},r.a.createElement("h2",{className:" display-4",style:{fontSize:"1.75rem"}},this.props.title))}}]),t}(n.Component);var g=function(){return r.a.createElement(v,{title:"Home"})},y=a(14);var j=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={recipes:[],categories:[],users:[]},a.getCategoryTitle=function(e){var t=a.state.categories.filter((function(t){return Number(e)===t._id}));return Object(y.a)(t,1)[0].title},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=i.a,e.next=4,i.a.awrap(fetch("https://my-json-server.typicode.com/jmbodnar/recipes-db/db"));case 4:return e.t1=e.sent.json(),e.next=7,e.t0.awrap.call(e.t0,e.t1);case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t2=e.catch(0),console.error(e.t2);case 13:case"end":return e.stop()}}),null,null,[[0,10]]).then((function(t){var a=t.recipes,n=t.categories,r=t.users;e.setState({recipes:a,categories:n,users:r})}))}},{key:"render",value:function(){var e=this,t=this.state.recipes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{title:"Recipes"}),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-striped table-borderless table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Main Ingredient"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Likes"))),r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,r.a.createElement(h.b,{to:"recipes/"+t._id},t.title)),r.a.createElement("td",null,t.mainIngredient),r.a.createElement("td",null,e.getCategoryTitle(t.categoryId)),r.a.createElement("td",null,t.likes))}))))))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={recipe:{},comments:[],category:{},user:{}},a.getUser=function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i.a,e.next=3,i.a.awrap(fetch("https://my-json-server.typicode.com/jmbodnar/recipes-db/users"));case 3:return e.t1=e.sent.json(),e.next=6,e.t0.awrap.call(e.t0,e.t1);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}))},a.getCategory=function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i.a,e.next=3,i.a.awrap(fetch("https://my-json-server.typicode.com/jmbodnar/recipes-db/categories"));case 3:return e.t1=e.sent.json(),e.next=6,e.t0.awrap.call(e.t0,e.t1);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}))},a.getDate=function(e){return new Date(e).toLocaleDateString()},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.match.params.id,i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=i.a,t.next=4,i.a.awrap(fetch("https://my-json-server.typicode.com/jmbodnar/recipes-db/recipes?_id=".concat(e)));case 4:return t.t1=t.sent.json(),t.next=7,t.t0.awrap.call(t.t0,t.t1);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t2=t.catch(0),console.error(t.t2);case 13:case"end":return t.stop()}}),null,null,[[0,10]])).then((function(e){var a=Object(y.a)(e,1)[0];t.setState({recipe:a})})).then((function(){i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=i.a,e.next=4,i.a.awrap(fetch("https://my-json-server.typicode.com/jmbodnar/recipes-db/comments"));case 4:return e.t1=e.sent.json(),e.next=7,e.t0.awrap.call(e.t0,e.t1);case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t2=e.catch(0),console.error(e.t2);case 13:case"end":return e.stop()}}),null,null,[[0,10]]).then((function(e){var a=e.filter((function(e){return String(e.recipeId)===String(t.props.match.params.id)}));a.forEach((function(e){t.getUser().then((function(t){var a=t.filter((function(t){return String(e.userId)===String(t._id)}));return Object(y.a)(a,1)[0]})).then((function(n){e.username=n.firstname+" "+n.lastname,t.setState({comments:a})}))}))})),t.getUser().then((function(e){var a=e.filter((function(e){return String(t.props.match.params.id)===String(e._id)})),n=Object(y.a)(a,1)[0];t.setState({user:n})})),t.getCategory().then((function(e){var a=e.filter((function(e){return String(t.state.recipe.categoryId)===String(e._id)})),n=Object(y.a)(a,1)[0];t.setState({category:n})}))}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{title:this.state.recipe.title}),r.a.createElement("section",{className:"row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("dl",null,r.a.createElement("dt",null,"Description"),r.a.createElement("dd",null,"This wonderful recipe is summarized in this blurb. It's so good and people love to it eat. Every recipe will have a short marketing blurb like this."),r.a.createElement("dt",null,"Directions"),r.a.createElement("dd",null,this.state.recipe.directions),r.a.createElement("dt",null,"Added by"),r.a.createElement("dd",null,this.state.user.firstname+" "+this.state.user.lastname+" | "+this.getDate(this.state.recipe.dateAdded)))),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("dl",null,r.a.createElement("dt",null,"Category"),r.a.createElement("dd",null,this.state.category.title),r.a.createElement("dt",null,"Main Ingredient"),r.a.createElement("dd",null,this.state.recipe.mainIngredient),r.a.createElement("dt",null,"Ingredients"),r.a.createElement("dd",null,this.state.recipe.ingredients),r.a.createElement("dt",null,"Creator"),r.a.createElement("dd",null,this.state.user.firstname+" "+this.state.user.lastname)))),r.a.createElement(v,{title:"Comments"}),r.a.createElement("section",{className:"row list-group mb-4 px-3"},this.state.comments.map((function(t){return r.a.createElement("details",{className:"mb-1",key:t._id},r.a.createElement("summary",null,t.username," (",e.getDate(t.dateAdded),")"),r.a.createElement("div",{className:"alert"},r.a.createElement("p",null,t.text)))}))))}}]),t}(n.Component);var x=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{title:"About"}))},O=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={recipes:[],categories:[],users:[]},a.getRecipes=function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i.a,e.next=3,i.a.awrap(fetch("https://my-json-server.typicode.com/jmbodnar/recipes-db/db"));case 3:return e.t1=e.sent.json(),e.next=6,e.t0.awrap.call(e.t0,e.t1);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}))},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getRecipes().then((function(t){var a=t.recipes,n=t.categories,r=t.users;e.setState({recipes:a,categories:n,users:r})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h.a,{basename:"/router-practice/"},r.a.createElement(f,null),r.a.createElement(E,null),r.a.createElement("main",{className:"container"},r.a.createElement(b.c,null,r.a.createElement(b.a,{exact:!0,path:"/",component:g}),r.a.createElement(b.a,{exact:!0,path:"/recipes",component:j,data:this.state}),r.a.createElement(b.a,{path:"/recipes/:id",component:w}),r.a.createElement(b.a,{exact:!0,path:"/about",component:x})))))}}]),t}(n.Component);s.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.3eed0895.chunk.js.map